// Modelo inicial para HQ-FO-40
// Se debe ajustar seg√∫n los campos reales y migrar con Prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Inspeccion {
  id                  Int      @id @default(autoincrement())
  fecha               DateTime
  marca_temporal      DateTime
  turno               String
  conductor_nombre    String
  placa_vehiculo      String
  kilometraje         Int
  contrato            String
  campo_coordinacion  String
  consumo_medicamentos Boolean
  horas_sueno_suficientes Boolean
  libre_sintomas_fatiga Boolean
  condiciones_aptas   Boolean
  altas_bajas         Boolean
  direccionales       Boolean
  parqueo             Boolean
  freno               Boolean
  reversa             Boolean
  espejos             Boolean
  vidrio_frontal      Boolean
  frenos              Boolean
  frenos_emergencia   Boolean
  cinturones          Boolean
  puertas             Boolean
  vidrios             Boolean
  limpiaparabrisas    Boolean
  observaciones       String?
  nivel_riesgo        String
  puntaje_total       Int
  puntaje_fatiga      Int
  tiene_alertas_criticas Boolean
  createdAt           DateTime @default(now())
  updatedAt           DateTime @updatedAt
}

model ArchivoProcesado {
  id                  Int      @id @default(autoincrement())
  nombre_archivo      String
  hash_archivo        String   @unique
  tamano_archivo      Int
  total_registros     Int
  registros_insertados Int
  registros_duplicados Int
  registros_error     Int
  tiempo_procesamiento Float
  errores_validacion  Json
  advertencias        Json
  fecha_procesamiento DateTime
  usuario_carga       String
}
