model InspeccionPesado {
  id                  Int      @id @default(autoincrement())
  marca_temporal      DateTime
  nombre_inspector    String
  contrato            String
  campo_coordinacion  String
  placa_vehiculo      String
  kilometraje         Int
  turno               String
  altas_bajas         Boolean
  direccionales       Boolean
  parqueo             Boolean
  freno               Boolean
  reversa_alarma      Boolean
  espejos             Boolean
  vidrio_frontal      Boolean
  presentacion_aseo   Boolean
  pito                Boolean
  gps                 Boolean
  cinturones          Boolean
  puertas             Boolean
  vidrios             Boolean
  limpiaparabrisas    Boolean
  extintor            Boolean
  botiquin            Boolean
  tapiceria           Boolean
  indicadores         Boolean
  objetos_sueltos     Boolean
  frenos              Boolean
  frenos_emergencia   Boolean
  fugas_aire          Boolean
  control_fugas_aire  Boolean
  candados_bandas     Boolean
  acoples_tomas       Boolean
  nivel_aceite_motor  Boolean
  nivel_fluido_frenos Boolean
  nivel_fluido_dir_hidraulica Boolean
  nivel_fluido_refrigerante Boolean
  nivel_fluido_limpia_parabrisas Boolean
  correas             Boolean
  baterias            Boolean
  llantas_labrado     Boolean
  llantas_sin_cortes  Boolean
  llanta_repuesto     Boolean
  copas_pernos        Boolean
  suspension          Boolean
  direccion           Boolean
  tapa_tanque         Boolean
  equipo_carretera    Boolean
  kit_ambiental       Boolean
  documentacion       Boolean
  observaciones       String?
  horas_sueno_suficientes Boolean
  libre_sintomas_fatiga Boolean
  condiciones_aptas   Boolean
  consumo_medicamentos Boolean
  fecha               DateTime
  nivel_riesgo        String
  puntaje_total       Int
  puntaje_fatiga      Int
  tiene_alertas_criticas Boolean
  createdAt           DateTime @default(now())
  updatedAt           DateTime @updatedAt
  @@unique([placa_vehiculo, fecha, nombre_inspector])
}

model RechazoInspeccionPesado {
  id                  Int      @id @default(autoincrement())
  marca_temporal      DateTime?
  nombre_inspector    String?
  contrato            String?
  campo_coordinacion  String?
  placa_vehiculo      String?
  kilometraje         Int?
  turno               String?
  altas_bajas         Boolean?
  direccionales       Boolean?
  parqueo             Boolean?
  freno               Boolean?
  reversa_alarma      Boolean?
  espejos             Boolean?
  vidrio_frontal      Boolean?
  presentacion_aseo   Boolean?
  pito                Boolean?
  gps                 Boolean?
  cinturones          Boolean?
  puertas             Boolean?
  vidrios             Boolean?
  limpiaparabrisas    Boolean?
  extintor            Boolean?
  botiquin            Boolean?
  tapiceria           Boolean?
  indicadores         Boolean?
  objetos_sueltos     Boolean?
  frenos              Boolean?
  frenos_emergencia   Boolean?
  fugas_aire          Boolean?
  control_fugas_aire  Boolean?
  candados_bandas     Boolean?
  acoples_tomas       Boolean?
  nivel_aceite_motor  Boolean?
  nivel_fluido_frenos Boolean?
  nivel_fluido_dir_hidraulica Boolean?
  nivel_fluido_refrigerante Boolean?
  nivel_fluido_limpia_parabrisas Boolean?
  correas             Boolean?
  baterias            Boolean?
  llantas_labrado     Boolean?
  llantas_sin_cortes  Boolean?
  llanta_repuesto     Boolean?
  copas_pernos        Boolean?
  suspension          Boolean?
  direccion           Boolean?
  tapa_tanque         Boolean?
  equipo_carretera    Boolean?
  kit_ambiental       Boolean?
  documentacion       Boolean?
  observaciones       String?
  horas_sueno_suficientes Boolean?
  libre_sintomas_fatiga Boolean?
  condiciones_aptas   Boolean?
  consumo_medicamentos Boolean?
  fecha               DateTime?
  nivel_riesgo        String?
  puntaje_total       Int?
  puntaje_fatiga      Int?
  tiene_alertas_criticas Boolean?
  motivo_rechazo      String
  createdAt           DateTime @default(now())
  updatedAt           DateTime @updatedAt
}
model RechazoInspeccion {
  id                  Int      @id @default(autoincrement())
  fecha               DateTime?
  marca_temporal      DateTime?
  turno               String?
  conductor_nombre    String?
  placa_vehiculo      String?
  kilometraje         Int?
  contrato            String?
  campo_coordinacion  String?
  consumo_medicamentos Boolean?
  horas_sueno_suficientes Boolean?
  libre_sintomas_fatiga Boolean?
  condiciones_aptas   Boolean?
  // Luces
  altas_bajas         Boolean?
  direccionales       Boolean?
  parqueo             Boolean?
  freno               Boolean?
  reversa             Boolean?
  // Espejos y vidrios
  espejos             Boolean?
  vidrio_frontal      Boolean?
  vidrios             Boolean?
  // Condiciones generales
  presentacion_aseo   Boolean?
  pito                Boolean?
  gps                 Boolean?
  // Frenos y cinturones
  frenos              Boolean?
  frenos_emergencia   Boolean?
  cinturones          Boolean?
  // Carrocería
  puertas             Boolean?
  limpiaparabrisas    Boolean?
  extintor            Boolean?
  botiquin            Boolean?
  tapiceria           Boolean?
  indicadores         Boolean?
  objetos_sueltos     Boolean?
  // Niveles de fluidos
  nivel_aceite_motor  Boolean?
  nivel_fluido_frenos Boolean?
  nivel_fluido_dir_hidraulica Boolean?
  nivel_fluido_refrigerante Boolean?
  nivel_fluido_limpia_parabrisas Boolean?
  // Motor y electricidad
  correas             Boolean?
  baterias            Boolean?
  // Llantas
  llantas_labrado     Boolean?
  llantas_sin_cortes  Boolean?
  llanta_repuesto     Boolean?
  copas_pernos        Boolean?
  // Suspensión y dirección
  suspension          Boolean?
  direccion           Boolean?
  // Otros
  tapa_tanque         Boolean?
  equipo_carretera    Boolean?
  kit_ambiental       Boolean?
  documentacion       Boolean?
  observaciones       String?
  nivel_riesgo        String?
  puntaje_total       Int?
  puntaje_fatiga      Int?
  tiene_alertas_criticas Boolean?
  motivo_rechazo      String
  createdAt           DateTime @default(now())
  updatedAt           DateTime @updatedAt
}
// Modelo inicial para HQ-FO-40
// Se debe ajustar según los campos reales y migrar con Prisma

generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Inspeccion {
  id                  Int      @id @default(autoincrement())
  fecha               DateTime
  marca_temporal      DateTime
  turno               String
  conductor_nombre    String
  placa_vehiculo      String
  kilometraje         Int
  contrato            String
  campo_coordinacion  String
  consumo_medicamentos Boolean
  horas_sueno_suficientes Boolean
  libre_sintomas_fatiga Boolean
  condiciones_aptas   Boolean
  // Luces
  altas_bajas         Boolean
  direccionales       Boolean
  parqueo             Boolean
  freno               Boolean
  reversa             Boolean
  // Espejos y vidrios
  espejos             Boolean
  vidrio_frontal      Boolean
  vidrios             Boolean
  // Condiciones generales
  presentacion_aseo   Boolean
  pito                Boolean
  gps                 Boolean
  // Frenos y cinturones
  frenos              Boolean
  frenos_emergencia   Boolean
  cinturones          Boolean
  // Carrocería
  puertas             Boolean
  limpiaparabrisas    Boolean
  extintor            Boolean
  botiquin            Boolean
  tapiceria           Boolean
  indicadores         Boolean
  objetos_sueltos     Boolean
  // Niveles de fluidos
  nivel_aceite_motor  Boolean
  nivel_fluido_frenos Boolean
  nivel_fluido_dir_hidraulica Boolean
  nivel_fluido_refrigerante Boolean
  nivel_fluido_limpia_parabrisas Boolean
  // Motor y electricidad
  correas             Boolean
  baterias            Boolean
  // Llantas
  llantas_labrado     Boolean
  llantas_sin_cortes  Boolean
  llanta_repuesto     Boolean
  copas_pernos        Boolean
  // Suspensión y dirección
  suspension          Boolean
  direccion           Boolean
  // Otros
  tapa_tanque         Boolean
  equipo_carretera    Boolean
  kit_ambiental       Boolean
  documentacion       Boolean
  observaciones       String?
  nivel_riesgo        String
  puntaje_total       Int
  puntaje_fatiga      Int
  tiene_alertas_criticas Boolean
  createdAt           DateTime @default(now())
  updatedAt           DateTime @updatedAt
  @@unique([placa_vehiculo, fecha, conductor_nombre])
}

model ArchivoProcesado {
  id                  Int      @id @default(autoincrement())
  nombre_archivo      String
  hash_archivo        String   @unique
  tamano_archivo      Int
  total_registros     Int
  registros_insertados Int
  registros_duplicados Int
  registros_error     Int
  tiempo_procesamiento Float
  errores_validacion  Json
  advertencias        Json
  fecha_procesamiento DateTime
  usuario_carga       String
}
